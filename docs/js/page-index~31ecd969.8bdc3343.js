(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-index~31ecd969"],{"03a0":function(t,a,e){var n=e("25bb"),r=e("d309");t.exports={distanceInWords:n(),format:r()}},"129f":function(t,a){t.exports=Object.is||function(t,a){return t===a?0!==t||1/t===1/a:t!=t&&a!=a}},"25bb":function(t,a){function e(){var t={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}};function a(a,e,n){var r;return n=n||{},r="string"===typeof t[a]?t[a]:1===e?t[a].one:t[a].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"dalam waktu "+r:r+" yang lalu":r}return{localize:a}}t.exports=e},"3f9f":function(t,a,e){},"4de4":function(t,a,e){"use strict";var n=e("23e7"),r=e("b727").filter,s=e("1dde"),i=s("filter");n({target:"Array",proto:!0,forced:!i},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"841c":function(t,a,e){"use strict";var n=e("d784"),r=e("825a"),s=e("1d80"),i=e("129f"),o=e("14c3");n("search",1,(function(t,a,e){return[function(a){var e=s(this),n=void 0==a?void 0:a[t];return void 0!==n?n.call(a,e):new RegExp(a)[t](String(e))},function(t){var n=e(a,t,this);if(n.done)return n.value;var s=r(t),l=String(this),u=s.lastIndex;i(u,0)||(s.lastIndex=0);var c=o(s,l);return i(s.lastIndex,u)||(s.lastIndex=u),null===c?-1:c.index}]}))},9261:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-6 shadow-lg rounded-lg"},[e("p",{staticClass:"text-center font-bold text-sm p-3 uppercase"},[t._v(" Aplikasi Sederhana Laporan Harian : ")]),t._m(0),e("hr",{staticClass:"style16"}),e("div",{staticClass:"p-2"},[e("form",{attrs:{action:"#"},on:{submit:function(a){return a.preventDefault(),t.simpan()}}},[e("p",{staticClass:"p-2"},[t._v("SKPD :")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.vdata.skpd,expression:"vdata.skpd"}],staticClass:"form-control",attrs:{required:"",disabled:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.vdata,"skpd",a.target.multiple?e:e[0])}}},t._l(t.skpds,(function(a,n){return e("option",{key:n,staticStyle:{"font-size":"12px"},domProps:{value:a.nama_skpd}},[t._v(" "+t._s(a.nama_skpd)+" ")])})),0),e("div",{staticClass:"sm-form"},[e("label",{attrs:{for:"tanggal"}},[t._v("Tanggal : ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.tanggal,expression:"vdata.tanggal"}],staticClass:"form-control form-control-sm",attrs:{required:"",type:"date",id:"tanggal",name:"tanggal",placeholder:"tanggal"},domProps:{value:t.vdata.tanggal},on:{input:function(a){a.target.composing||t.$set(t.vdata,"tanggal",a.target.value)}}})]),e("div",{staticClass:"sm-form"},[e("label",{attrs:{for:"keterangan"}},[t._v("Keterangan Pekerjaan : ")]),e("div",{staticClass:"sm-form"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.vdata.keterangan,expression:"vdata.keterangan"}],staticClass:"form-control md-textarea",attrs:{type:"text",id:"keterangan",name:"keterangan",rows:"2",placeholder:"keterangan...",required:""},domProps:{value:t.vdata.keterangan},on:{input:function(a){a.target.composing||t.$set(t.vdata,"keterangan",a.target.value)}}})])]),e("div",{staticClass:"sm-form"},[e("label",{attrs:{for:"mulai"}},[t._v("Mulai Pengerjaan : ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.mulai,expression:"vdata.mulai"}],staticClass:"form-control form-control-sm",attrs:{required:"",type:"time",id:"mulai",name:"mulai",placeholder:"mulai"},domProps:{value:t.vdata.mulai},on:{input:function(a){a.target.composing||t.$set(t.vdata,"mulai",a.target.value)}}})]),e("div",{staticClass:"sm-form"},[e("label",{attrs:{for:"akhir"}},[t._v("Akhir Pengerjaan : ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.akhir,expression:"vdata.akhir"}],staticClass:"form-control form-control-sm",attrs:{required:"",type:"time",id:"akhir",name:"akhir",placeholder:"akhir"},domProps:{value:t.vdata.akhir},on:{input:function(a){a.target.composing||t.$set(t.vdata,"akhir",a.target.value)}}})]),e("hr",{staticClass:"p-3"}),"insert"==t.aksi?e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-sm btn-dark",attrs:{type:"submit"}},[t._v("Simpan")])]):e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:t.updates}},[t._v(" Update ")]),e("button",{staticClass:"btn btn-sm btn-danger ml-4",attrs:{type:"button"},on:{click:t.deletes}},[t._v(" Delete ")]),e("br"),e("button",{staticClass:"btn btn-sm btn-dark",attrs:{type:"button"},on:{click:function(a){t.aksi="insert",t.vdata={},t.getSkpd()}}},[t._v(" + ")])])]),e("Btables",{ref:"tablenya",attrs:{tables:"laporan_bulanan",hide:["skpd","tgl","hari","tanggal","id"]},on:{selected:t.ambil}})],1)])])])},r=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"text-center p-3"},[n("img",{staticClass:"kinoLightBox img-fluid ",attrs:{src:e("c8f1")}})])}],s=(e("4de4"),e("4b97")),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.ready?e("section",[t.selected?e("div"):t._e(),e("br"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-4 text-center"},[e("a",{attrs:{target:"__blank",href:"https://akbarmaliki.github.io/infolayanansjs/#/excel?data="+JSON.stringify(t.prints).split("&").join("%26")}},[t._m(0)])]),e("div",{staticClass:"col-4 text-center"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.bulan,expression:"bulan"}],staticClass:"form-control",staticStyle:{height:"30px","font-size":"13px"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.bulan=a.target.multiple?e:e[0]}}},[e("option",[t._v("Januari")]),e("option",[t._v("Februari")]),e("option",[t._v("Maret")]),e("option",[t._v("April")]),e("option",[t._v("Mei")]),e("option",[t._v("Juni")]),e("option",[t._v("Juli")]),e("option",[t._v("Agustus")]),e("option",[t._v("September")]),e("option",[t._v("Oktober")]),e("option",[t._v("November")]),e("option",[t._v("Desember")])])]),e("div",{staticClass:"col-4 text-center"},[e("div",{staticClass:"sm-form "},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tahun,expression:"tahun"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"tahun",name:"tahun",placeholder:"tahun"},domProps:{value:t.tahun},on:{input:function(a){a.target.composing||(t.tahun=a.target.value)}}})])])]),e("div",{staticClass:"scrollbarnya",staticStyle:{overflow:"scroll",padding:"10px"}},[e("div",{staticClass:"sm-form float-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control form-control-sm",attrs:{type:"text",id:"search",name:"search",placeholder:"search"},domProps:{value:t.search},on:{input:function(a){a.target.composing||(t.search=a.target.value)}}})]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.perPage,expression:"perPage"}],staticClass:"form-control",staticStyle:{width:"20vw"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.perPage=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:"5"}},[t._v("5")]),e("option",{attrs:{value:"10"}},[t._v("10")]),e("option",{attrs:{value:"50"}},[t._v("50")]),e("option",{attrs:{value:"1000"}},[t._v("semua")])]),e("b-table",{attrs:{data:t.td,"sticky-header":!1,selected:t.selected,"per-page":t.perPage,bordered:!0,striped:!0,narrowed:!0,hoverable:!0,"mobile-cards":!1,paginated:!0,"sort-icon":"arrow-up","sort-icon-size":"is-small","pagination-simple":!1,"default-sort-direction":"asc","pagination-rounded":!0,"default-sort":"id"},on:{"update:selected":function(a){t.selected=a}}},t._l(t.keys,(function(a,n){return e("b-table-column",{key:n+"keys",attrs:{visible:!t.hide.includes(a.field),searchable:["nama field buat search"].includes(a.field),field:a.field,label:a.label,sortable:""},scopedSlots:t._u([{key:"default",fn:function(n){return[e("span",{staticClass:"text-sm"},[t._v(" "+t._s(n.row[a.field])+" ")])]}}],null,!0)})})),1)],1)]):t._e()},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"btn btn-sm btn-success  ",attrs:{type:"button"}},[e("img",{staticClass:"d-inline",staticStyle:{height:"15px",width:"15px",filter:"brightness(0) invert(1)"},attrs:{src:"https://upload.egov.balangankab.go.id/svg/printer.svg",alt:""}}),t._v(" Print")])}],l=e("1da1"),u=(e("96cf"),e("d3b7"),e("ddb0"),e("b64b"),e("d81d"),e("159b"),e("841c"),e("ac1f"),e("25f0"),e("1276"),e("03a0")),c=new s["a"],d={props:["tables","hide"],data:function(){return{ready:!1,datanya:[],keys:[],perPage:5,search:"",selected:!1,tahun:"",bulan:""}},watch:{selected:function(){this.$emit("selected",JSON.parse(JSON.stringify(this.selected)))}},methods:{tahuns:function(){return this.$datefns.format(new Date,"YYYY",{locale:u})},bulans:function(){return this.$datefns.format(new Date,"MMMM",{locale:u})},getData:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var e,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e=t,!t.tables){a.next=10;break}return a.next=4,c.collection("laporan_bulanan").doc().get("tanggal_lengkap,mulai,akhir,keterangan,nip,nama,skpd,tanggal,id","where tb1.id_user='".concat(t.$store.state.users.id,"' order by id"));case 4:n=a.sent,e.datanya=n,e.keys=Object.keys(n[0]),e.keys=e.keys.map((function(t){return{field:t,label:t.toUpperCase()}})),t.ready=!0,t.$forceUpdate();case 10:t.$forceUpdate();case 11:case"end":return a.stop()}}),a)})))()}},mounted:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e=t,t.tahun=t.tahuns(),t.bulan=t.bulans(),t.$nuxt.$on("getData",(function(){e.getData()})),setTimeout((function(){t.getData(),t.$el.querySelectorAll("th").forEach((function(t){t.style.background="black",t.style.color="white"}))}),2e3),t.$forceUpdate();case 6:case"end":return a.stop()}}),a)})))()},computed:{prints:function(){var t=JSON.parse(JSON.stringify(this.td));return t=t.map((function(t){return delete t.id,delete t.tanggal,t})),t},td:function(){var t=this,a=this.datanya,e=Object.keys(a[0]),n=this;return a=a.filter((function(a,n,r){var s=!1;if(e.filter((function(e){"string"==typeof a[e]?-1!=a[e].toLowerCase().indexOf(t.search.toLowerCase())&&(s=!0):null!=a[e]&&-1!=a[e].toString().indexOf(t.search)&&(s=!0)})),s)return a})),a=a.filter((function(t){var a=t.tanggal_lengkap.split(" ");if(a[2]==n.tahun&&a[1]==n.bulan)return t})),a}}},p=d,f=(e("cefa"),e("2877")),m=Object(f["a"])(p,i,o,!1,null,null,null),h=m.exports,v=new s["a"],g=e("03a0"),b={components:{Btables:h},data:function(){return{skpds:[],aksi:"insert",vdata:{}}},methods:{ambil:function(t){console.log("ambil"),this.vdata=JSON.parse(JSON.stringify(t)),this.aksi="update",this.$forceUpdate()},format:function(t){return this.$datefns.format(t,"DD MMMM YYYY",{locale:g})},tgl:function(t){return this.$datefns.format(t,"DD",{locale:g})},hari:function(t){return this.$datefns.format(t,"dddd",{locale:g})},simpan:function(){var t=this;this.vdata.id_user=this.$store.state.users.id,this.vdata.nip=this.$store.state.users.nip,this.vdata.nama=this.$store.state.users.nama,this.vdata.skpd_id=this.$store.state.users.skpd,this.vdata.tanggal_lengkap=this.format(this.vdata.tanggal),this.vdata.hari=this.hari(this.vdata.tanggal),this.vdata.tgl=this.tgl(this.vdata.tanggal),console.log(this.vdata),console.log("baru"),v.collection("laporan_bulanan").doc().set(this.vdata).then((function(a){alert("Berhasil disimpan"),t.$refs.tablenya.getData()}))},updates:function(){var t=this;confirm("Apakah yakin mengedit data ?")&&(this.vdata.id_user=this.$store.state.users.id,this.vdata.nip=this.$store.state.users.nip,this.vdata.nama=this.$store.state.users.nama,this.vdata.skpd_id=this.$store.state.users.skpd,this.vdata.tanggal_lengkap=this.format(this.vdata.tanggal),this.vdata.hari=this.hari(this.vdata.tanggal),this.vdata.tgl=this.tgl(this.vdata.tanggal),console.log(this.vdata),console.log("baru"),v.collection("laporan_bulanan").doc().set(this.vdata).then((function(a){alert("Berhasil Update!"),t.$refs.tablenya.getData()})))},deletes:function(){var t=this;confirm("apakah yakin menghapus data ?")&&v.collection("laporan_bulanan").doc(this.vdata.id).delete().then((function(a){console.log(a),t.$refs.tablenya.getData(),alert("berhasil deletes")}))},test:function(){var t=new Date;console.log(this.format(t))},getSkpd:function(){var t=this;v.collection("skpd").doc().get("id_skpd,nama_skpd","order by id").then((function(a){console.log(t.$store.state.users),t.skpds=a;var e=t.skpds.filter((function(a){if(a.id_skpd==t.$store.state.users.skpd)return a}));t.vdata.skpd=e[0].nama_skpd,t.$forceUpdate()}))}},layout:"kominfo",mounted:function(){var t=this,a=this;a.$refs.tablenya.getData(),v.collection().ceklogin(this.$store).then((function(t){setTimeout((function(){v.collection("skpd").doc().get("id_skpd,nama_skpd","order by id").then((function(t){console.log(a.$store.state.users),a.skpds=t;var e=a.skpds.filter((function(t){if(t.id_skpd==a.$store.state.users.skpd)return t}));a.vdata.skpd=e[0].nama_skpd,a.$forceUpdate()}))}),1500)})).catch((function(a){t.$router.push("/auth/login")}))}},k=b,_=Object(f["a"])(k,n,r,!1,null,null,null);a["default"]=_.exports},c8f1:function(t,a,e){t.exports=e.p+"img/kopdiskominfo.bdcc1330.png"},cefa:function(t,a,e){"use strict";e("3f9f")},d309:function(t,a,e){var n=e("90e5");function r(){var t=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],a=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],e=["Mi","Sn","Sl","Ra","Ka","Ju","Sa"],r=["Min","Sen","Sel","Rab","Kam","Jum","Sab"],i=["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],o=["AM","PM"],l=["am","pm"],u=["a.m.","p.m."],c={MMM:function(a){return t[a.getMonth()]},MMMM:function(t){return a[t.getMonth()]},dd:function(t){return e[t.getDay()]},ddd:function(t){return r[t.getDay()]},dddd:function(t){return i[t.getDay()]},A:function(t){return t.getHours()/12>=1?o[1]:o[0]},a:function(t){return t.getHours()/12>=1?l[1]:l[0]},aa:function(t){return t.getHours()/12>=1?u[1]:u[0]}},d=["M","D","DDD","d","Q","W"];return d.forEach((function(t){c[t+"o"]=function(a,e){return s(e[t](a))}})),{formatters:c,formattingTokensRegExp:n(c)}}function s(t){switch(t){case 1:return"pertama";case 2:return"kedua";case 3:return"ketiga";default:return"ke-"+t}}t.exports=r},d81d:function(t,a,e){"use strict";var n=e("23e7"),r=e("b727").map,s=e("1dde"),i=s("map");n({target:"Array",proto:!0,forced:!i},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=page-index~31ecd969.8bdc3343.js.map